<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>毒物症狀查對系統 (Toxin Checker)</title>
    
    <!-- 引入 Tailwind CSS (樣式) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 引入 Babel (讓瀏覽器看懂 React JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 設置 Tailwind 的基礎樣式以符合暗色模式 -->
    <style>
        body {
            background-color: #0f172a; /* slate-900 */
            color: #e2e8f0; /* slate-200 */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 主程式邏輯 -->
    <script type="text/babel" data-type="module">
        // 透過 ESM 從 CDN 引入 React 和 Lucide 圖標
        import React, { useState, useMemo } from 'https://esm.sh/react@18.2.0';
        import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';
        import { 
            Search, AlertTriangle, Check, RotateCcw, ChevronDown, ChevronUp, 
            Activity, Eye, Disc, Thermometer, Droplet, Heart, ArrowRight, 
            ArrowLeft, Pill, Stethoscope, AlertCircle, FlaskConical, Leaf, 
            Skull, Zap 
        } from 'https://esm.sh/lucide-react@0.292.0';

        // --- 資料庫構建 ---
        const database = [
          {
            category: "心血管與生命徵象",
            icon: <Activity className="w-5 h-5" />,
            symptoms: [
              {
                name: "心搏過緩 (Bradycardia)",
                toxins: ["銻 | Antimony", "刺槐(洋槐) | Black locust", "降保適 | Catapres", "可待因 | Codeine", "箭毒 | Curare", "藜蘆 | False hellebore", "GHB (液態搖頭丸)", "恩特來 | Inderal", "曼陀羅花 (吉姆森草、茄科毒草) | Jimsonweed", "飛燕草 | Larkspur", "鈴蘭 (山谷百合) | Lily of the valley", "曼德拉草 | Mandrake", "烏頭 (僧帽) | Monkshood", "山月桂 | Mountain laurel", "毒扁豆鹼 | Physostigmine", "河豚 | Pufferfish", "奎寧定 | Quinidine", "杜鵑花屬 | Rhododendron", "硫噴妥鈉 | Sodium pentothal", "馬達加斯加毒樹 | Tanghin", "水毒參 | Water hemlock", "黃茉莉 | Yellow jasmine"]
              },
              {
                name: "發燒/高熱 (Fever/Hyperthermia)",
                toxins: ["龍紋蝰 (極北蝰) | Adder", "愛道美 | Aldomet", "炭疽病 | Anthrax", "阿斯匹靈 | Aspirin", "阿托品 | Atropine", "細菌性食物中毒 | Bacterial food poisoning", "顛茄 | Belladonna", "苯二氮平類藥物 | Benzodiazepines", "棕色遁蛛 | Brown recluse", "水合氯醛 | Chloral hydrate", "辛可芬 | Cinchophen", "眼鏡蛇 | Cobra", "銅 | Copper", "麥仙翁 | Corn cockle", "可邁丁 | Coumadin", "狄蘭汀 | Dilantin", "敵草快 | Diquat", "腎上腺素 | Epinephrine", "服立治兒 | Flagyl", "天仙子 (茛菪) | Henbane", "碘 | Iodine", "來適泄 | Lasix", "止瀉寧 | Lomotil", "單胺氧化酶抑制劑 | MAO inhibitor", "萘 | Naphthalene", "肉豆蔻 | Nutmeg", "巴拉刈 | Paraquat", "鼠疫 | Plague", "僧帽水母 (葡萄牙戰士) | Portuguese man-of-war", "過錳酸鉀 | Potassium permanganate", "普祿林 | Prolixin", "百憂解 | Prozac", "衛矛 | Spindle tree", "史泰拉利 | Stelazine", "番木鱉鹼 | Strychnine", "三硝基甲苯 | Trinitrotoluene", "兔熱病 (土倫病) | Tularemia", "泛得林 | Ventolin"]
              },
              {
                name: "肌肉痙攣 (Muscle Spasms)",
                toxins: ["番木鱉鹼 | Strychnine", "樟腦 | Camphor", "有機磷 | Organophosphates", "氰化物 | Cyanide", "條紋蠍 | Common striped scorpion", "水毒參 | Water hemlock"]
              },
              {
                name: "高血壓 (Hypertension)",
                toxins: ["藜蘆 | False hellebore", "毛地黃 | Foxglove", "K他命 | Ketamine", "苯環利定 (PCP) | Phencyclidine", "苯甲嗎啉 | Preludin", "普祿林 | Prolixin", "神寧健 | Sinequan", "甲狀腺素 | Thyrolar", "泛得林 | Ventolin"]
              },
              {
                name: "低血壓 (Hypotension)",
                toxins: ["西非荔枝果 | Akee", "苯胺 | Aniline", "砷 | Arsenic", "苯二氮平類藥物 | Benzodiazepines", "硼酸 | Boric acid", "溴酸鹽 | Bromate", "咖啡因 | Caffeine", "斑蝥素 | Cantharidin", "降保適 | Catapres", "陽離子清潔劑 | Cationic detergents", "水合氯醛 | Chloral hydrate", "氯苯氧基類除草劑 | Chlorophenoxy herbicides", "氰化物 | Cyanide", "二羥丙茶鹼 | Dyphylline", "二氯乙醇 | Ethylene chlorohydrin", "藜蘆 | False hellebore", "GHB (液態搖頭丸)", "好度 | Haldol", "海洛因 | Heroin", "繡球花 | Hydrangea", "恩特來 | Inderal", "胰島素 | Insulin", "吐根 | Ipecac", "飛燕草 | Larkspur", "來適泄 | Lasix", "單胺氧化酶抑制劑 | MAO inhibitor", "烏頭 (僧帽) | Monkshood", "硝化甘油 | Nitroglycerin", "乃普朗明 | Norpramin", "鴉片 | Opium", "豹斑鵝膏菌 | Panther mushroom", "伯樂 | Paral", "紅蝴蝶 | Peacock flower", "Percodan (一種止痛藥)", "酚 | Phenol", "毒扁豆鹼 | Physostigmine", "鼠疫 | Plague", "過錳酸鉀 | Potassium permanganate", "女貞 | Privet", "普魯卡因、利多卡因 | Procaine and lidocaine", "奎寧定 | Quinidine", "奎寧 | Quinine", "杜鵑 | Rhododendron", "疊氮化鈉 | Sodium azide", "硫噴妥鈉 | Sodium pentothal", "硫氰酸鈉 | Sodium thiocyanate", "史泰拉利 | Stelazine", "刺魟 | Stingray", "泰胃美 | Tagamet", "托拉靈 | Thorazine", "三氯乙烷 | Trichloroethane", "三硝基甲苯 | Trinitrotoluene", "筒箭毒鹼 | Tubocurarine", "泰諾 | Tylenol", "必滅鼠 | Vacor", "佛羅拿 | Veronal"]
              },
              {
                name: "體溫過低/失溫 (Hypothermia)",
                toxins: ["水合氯醛 | Chloral hydrate", "乃普朗明 | Norpramin", "河豚 | Pufferfish", "白蛇根 | White snakeroot"]
              },
              {
                name: "心搏過速 (Tachycardia)",
                toxins: ["一氧化碳 | Carbon Monoxide", "氨 | Ammonia", "阿托品 | Atropine", "類葉升麻 | Baneberry", "顛茄 | Belladonna", "溴酸鹽 | Bromate", "咖啡因 | Caffeine", "樟腦 | Camphor", "古柯鹼 (可卡因) | Cocaine", "條紋蠍 | Common striped scorpion", "芋螺 | Cone shells", "巴豆油 | Croton oil", "氰化物 | Cyanide", "致命網帽 | Deadly webcap", "毛地黃毒苷 | Digitoxin", "二羥丙茶鹼 | Dyphylline", "接骨木果 | Elderberry", "腎上腺素 | Epinephrine", "毒歐芹 | Fool's parsley", "金 | Gold", "好度 | Haldol", "毒參 | Hemlock", "天仙子 (茛菪) | Henbane", "繡球花 | Hydrangea", "胰島素 | Insulin", "吐根 | Ipecac", "K他命 | Ketamine", "單胺氧化酶抑制劑 | MAO inhibitor", "尼古丁 | Nicotine", "諾來舒 | Norflex", "肉豆蔻 | Nutmeg", "伯樂 | Paral", "相思豆 (雞母珠) | Paternoster pea", "苯環利定 (PCP) | Phencyclidine", "普祿林 | Prolixin", "神寧健 | Sinequan", "滑蓋蘑菇 | Smooth cap mushroom", "菊蒿 | Tansy", "托拉靈 | Thorazine", "松節油 | Turpentine"]
              }
            ]
          },
          {
            category: "頭、眼、耳、鼻、喉 (HEENT)",
            icon: <Eye className="w-5 h-5" />,
            symptoms: [
              {
                name: "吃起來有怪味或異味 (包括金屬味和甜味)",
                toxins: ["可邁丁 | Coumadin", "服立治兒 | Flagyl", "碘 | Iodine", "鉛 | Lead", "苯甲嗎啉 | Preludin", "泛得林 | Ventolin"]
              },
              {
                name: "眼睛出血",
                toxins: ["龍紋蝰 (極北蝰) | Adder", "大黃 | Rhubarb"]
              },
              {
                name: "失明",
                toxins: ["酸 | Acid", "龍紋蝰 (極北蝰) | Adder", "氨 | Ammonia", "眼鏡蛇 | Cobra", "硫酸二甲酯 | Dimethyl sulfate", "毒歐芹 | Fool's parsley", "毒參 | Hemlock", "曼陀羅花 (吉姆森草、茄科毒草) | Jimsonweed", "甲醇 | Methanol", "酚 | Phenol"]
              },
              {
                name: "流鼻血",
                toxins: ["龍紋蝰 (極北蝰) | Adder", "大黃 | Rhubarb"]
              },
              {
                name: "視覺模糊或複視",
                toxins: ["一氧化碳 | Carbon Monoxide", "唑吡坦 | Ambien", "阿托品 | Atropine", "鉤鼻海蛇 | Beaked sea snake", "顛茄 | Belladonna", "苯二氮平類藥物 | Benzodiazepines", "檳榔子 | Betel nut seed", "肉毒桿菌 | Botulinum", "金雞納樹皮 | Cinchona bark", "眼鏡蛇 | Cobra", "右旋美沙酚 | Dextromethorphan", "毛地黃毒苷 | Digitoxin", "硫酸二甲酯 | Dimethyl sulfate", "伊拉維 | Elavil", "腎上腺素 | Epinephrine", "藜蘆 | False hellebore", "毛地黃 | Foxglove", "好度 | Haldol", "天仙子 (茛菪) | Henbane", "曼陀羅花 (吉姆森草、茄科毒草) | Jimsonweed", "飛燕草 | Larkspur", "來適泄 | Lasix", "利彼攣 | Librax", "秋水仙 (草地番紅花) | Meadow saffron", "甲醇 | Methanol", "烏頭 (僧帽) | Monkshood", "諾來舒 | Norflex", "肉豆蔻 | Nutmeg", "豹斑鵝膏菌 | Panther mushroom", "紅蝴蝶 | Peacock flower", "非那根 | Phenergan", "奎寧 | Quinine", "響尾蛇 | Rattlesnake", "索曼 | Soman", "塔崩 | Tabun", "馬達加斯加毒樹 | Tanghin", "VX 神經毒劑", "黃茉莉 | Yellow jasmine"]
              },
              {
                name: "呼吸臭味",
                toxins: ["樟腦 | Camphor"]
              },
              {
                name: "口腔燒灼",
                toxins: ["阿斯匹靈 | Aspirin", "阿托品 | Atropine", "瀉根或白瀉根 | Bryony or White bryony", "樟腦 | Camphor", "蓖麻子 | Castor bean", "巴豆油 | Croton oil", "瑞香 | Daphne", "敵草快 | Diquat", "巴拉刈 | Paraquat", "大黃 | Rhubarb", "硝酸銀 | Silver nitrate"]
              },
              {
                name: "鼻子燒灼/刺激",
                toxins: ["氯氣 | Chlorine", "硫化氫 | Hydrogen sulfide", "光氣 (碳醯氯) | Phosgene"]
              },
              {
                name: "喉嚨燒灼",
                toxins: ["阿斯匹靈 | Aspirin", "血根草 | Bloodroot", "氯氣 | Chlorine", "瑞香 | Daphne", "秋水仙 (草地番紅花) | Meadow saffron"]
              },
              {
                name: "失去聽力",
                toxins: ["阿斯匹靈 | Aspirin", "溴酸鹽 | Bromate", "金雞納樹皮 | Cinchona bark", "汞 | Mercury"]
              },
              {
                name: "瞳孔擴大",
                toxins: ["顛茄 | Belladonna", "血根草 | Bloodroot", "古柯鹼 (可卡因) | Cocaine", "白星海芋 | Cuckoopint", "天仙子 (茛菪) | Henbane", "馬栗 (七葉樹) | Horse chestnut", "半邊蓮 | Indian tobacco", "曼陀羅花 (吉姆森草、茄科毒草) | Jimsonweed", "鈴蘭 (山谷百合) | Lily of the valley", "曼德拉草 | Mandrake", "大麻 | Marijuana", "諾來舒 | Norflex", "乃普朗明 | Norpramin", "非那根 | Phenergan", "普祿林 | Prolixin", "菊蒿 | Tansy", "水毒參 | Water hemlock", "黃茉莉 | Yellow jasmine", "紅豆杉 | Yew"]
              },
              {
                name: "流涎",
                toxins: ["酸 | Acid", "氯氣 | Chlorine", "杜鵑 | Rhododendron", "索曼 | Soman", "塔崩 | Tabun", "托拉靈 | Thorazine", "VX 神經毒劑"]
              },
              {
                name: "眼瞼下垂",
                toxins: ["鉤鼻海蛇 | Beaked sea snake", "眼鏡蛇 | Cobra", "響尾蛇 | Rattlesnake", "黃茉莉 | Yellow jasmine"]
              },
              {
                name: "口乾",
                toxins: ["阿托品 | Atropine", "顛茄 | Belladonna", "伊拉維 | Elavil", "恩特來 | Inderal", "單胺氧化酶抑制劑 | MAO inhibitor", "諾來舒 | Norflex", "肉豆蔻 | Nutmeg", "苯甲嗎啉 | Preludin", "普祿林 | Prolixin", "泛得林 | Ventolin"]
              },
              {
                name: "口吐白沫",
                toxins: ["氯胺-T | Chloramine-T", "菊蒿 | Tansy", "水毒參 | Water hemlock"]
              },
              {
                name: "眼睛外凸",
                toxins: ["甲狀腺素 | Thyrolar"]
              },
              {
                name: "眼睛刺激/發紅",
                toxins: ["氯氣 | Chlorine", "硫酸二甲酯 | Dimethyl sulfate", "甲醛 | Formaldehyde", "硫化氫 | Hydrogen sulfide", "草酸 | Oxalic acid", "光氣 (碳醯氯) | Phosgene", "大麻 | Marijuana", "沙林 | Sarin", "疊氮化鈉 | Sodium azide", "索曼 | Soman", "塔崩 | Tabun", "四氯乙烷 | Tetrachloroethane", "兔熱病 (土倫病) | Tularemia", "VX 神經毒劑"]
              },
              {
                name: "眼睛麻痺",
                toxins: ["曼德拉草 | Mandrake"]
              },
              {
                name: "眼睛痙攣",
                toxins: ["K他命 | Ketamine", "苯環利定 (PCP) | Phencyclidine", "奎寧定 | Quinidine"]
              },
              {
                name: "牙齦腫脹或流血",
                toxins: ["龍紋蝰 (極北蝰) | Adder", "狄蘭汀 | Dilantin", "止瀉寧 | Lomotil"]
              },
              {
                name: "生髮",
                toxins: ["苯二氮平類藥物 | Benzodiazepines", "狄蘭汀 | Dilantin"]
              },
              {
                name: "脫髮",
                toxins: ["苯二氮平類藥物 | Benzodiazepines", "硼酸 | Boric acid", "帝拔癲 | Depakene", "秋水仙 (草地番紅花) | Meadow saffron", "放射線 | Radiation", "鉈 | Thallium"]
              },
              {
                name: "牙齦出現線條",
                toxins: ["鉛 | Lead"]
              },
              {
                name: "光敏感",
                toxins: ["阿托品 | Atropine", "咖啡因 | Caffeine", "來適泄 | Lasix"]
              },
              {
                name: "嘴唇/口腔刺激 (包括腫脹和水泡)",
                toxins: ["非洲牛奶樹 (帝錦) | African milk plant", "氨 | Ammonia", "鉤鼻海蛇 | Beaked sea snake", "黑嚏根草 | Black hellebore", "硫酸二甲酯 | Dimethyl sulfate", "金 | Gold", "絲蓋傘 | Inocybe", "汞 | Mercury", "兔熱病 (土倫病) | Tularemia"]
              },
              {
                name: "牙齒鬆動",
                toxins: ["汞 | Mercury"]
              },
              {
                name: "瞳孔縮小",
                toxins: ["腎上腺素 | Epinephrine", "海洛因 | Heroin", "止瀉寧 | Lomotil", "鴉片 | Opium", "毒扁豆鹼 | Physostigmine", "索曼 | Soman", "塔崩 | Tabun", "VX 神經毒劑"]
              },
              {
                name: "紅鼻子",
                toxins: ["古柯鹼 (可卡因) | Cocaine"]
              },
              {
                name: "流鼻水",
                toxins: ["硫酸二甲酯 | Dimethyl sulfate", "山月桂 | Mountain laurel", "除蟲菊精 | Pyrethrin", "索曼 | Soman", "塔崩 | Tabun", "VX 神經毒劑"]
              },
              {
                name: "唾液分泌過量或增加",
                toxins: ["胺基甲酸酯 (胺基甲酸鹽類) | Carbamate", "死亡卡馬斯 | Death camas", "絲蓋傘 | Inocybe", "鈴蘭 (山谷百合) | Lily of the valley", "山月桂 | Mountain laurel", "有機磷 | Organophosphate", "豹斑鵝膏菌 | Panther mushroom", "河豚 | Pufferfish", "硝酸銀 | Silver nitrate"]
              },
              {
                name: "喉嚨痛 (包括喉嚨發炎和沙啞)",
                toxins: ["三硝基甲苯 | Trinitrotoluene", "兔熱病 (土倫病) | Tularemia"]
              },
              {
                name: "流眼淚",
                toxins: ["硫酸二甲酯 | Dimethyl sulfate", "甲醛 | Formaldehyde", "山月桂 | Mountain laurel", "豹斑鵝膏菌 | Panther mushroom", "杜鵑 | Rhododendron", "索曼 | Soman", "塔崩 | Tabun"]
              },
              {
                name: "喉嚨緊縮",
                toxins: ["酸 | Acid", "氯氣 | Chlorine", "豹斑鵝膏菌 | Panther mushroom", "毒扁豆鹼 | Physostigmine"]
              },
              {
                name: "耳鳴",
                toxins: ["一氧化碳 | Carbon Monoxide", "阿斯匹靈 | Aspirin", "金雞納樹皮 | Cinchona bark", "伊拉維 | Elavil", "希拉毒蜥 (美國毒蜥) | Gila monster", "非那根 | Phenergan", "非洲牛奶樹 (帝錦) | African milk plant", "奎寧定 | Quinidine", "砷 | Arsenic", "麻瘋樹 | Barbados nut", "奎寧 | Quinine", "煩寧 | Valium", "麥仙翁 | Corn cockle", "瑞香 | Daphne", "硫酸二甲酯 | Dimethyl sulfate", "服立治兒 | Flagyl", "草酸 | Oxalic acid", "普祿林 | Prolixin"]
              },
              {
                name: "舌頭刺激 (包括腫脹)",
                toxins: ["敵草快 | Diquat", "巴拉刈 | Paraquat", "條紋蠍 | Common striped scorpion"]
              },
              {
                name: "牙齒發黃",
                toxins: ["鎘 | Cadmium"]
              }
            ]
          },
          {
            category: "皮膚徵候 (Skin)",
            icon: <Droplet className="w-5 h-5" />,
            symptoms: [
              {
                name: "色澤異常",
                toxins: ["酸 | Acid", "阿斯匹靈 | Aspirin", "過錳酸鉀 | Potassium permanganate", "硝酸銀 | Silver nitrate", "鉈 | Thallium"]
              },
              {
                name: "水泡",
                toxins: ["非洲牛奶樹 (帝錦) | African milk plant", "棕色遁蛛 | Brown recluse", "瀉根或白瀉根 | Bryony or White bryony", "斑蝥素 | Cantharidin", "條紋蠍 | Common striped scorpion", "巴豆油 | Croton oil", "白星海芋 | Cuckoopint", "碘 | Iodine", "叉子圓柏 | Savin"]
              },
              {
                name: "瘀青",
                toxins: ["可邁丁 | Coumadin"]
              },
              {
                name: "灼傷 (包括腐蝕性作用)",
                toxins: ["酸 | Acid", "氨 | Ammonia", "溴酸鹽 | Bromate", "陽離子清潔劑 | Cationic detergents", "氯氣 | Chlorine", "鉻 | Chromium", "硫酸二甲酯 | Dimethyl sulfate", "草酸 | Oxalic acid", "酚 | Phenol", "過錳酸鉀 | Potassium permanganate"]
              },
              {
                name: "皮膚濕黏",
                toxins: ["砷 | Arsenic", "樟腦 | Camphor"]
              },
              {
                name: "發紺",
                toxins: ["細菌性食物中毒 | Bacterial food poisoning", "麻瘋樹 | Barbados nut", "硼酸 | Boric acid", "胺基甲酸酯 (胺基甲酸鹽類) | Carbamate", "蓖麻子 | Castor bean", "苦西瓜 | Colocynth", "接骨木果 | Elderberry", "海洛因 | Heroin", "有機磷 | Organophosphate", "美洲商陸 | Pokeweed", "刺魟 | Stingray"]
              },
              {
                name: "指甲出現變色橫紋",
                toxins: ["鉈 | Thallium"]
              },
              {
                name: "發紅",
                toxins: ["一氧化碳 | Carbon Monoxide", "氨 | Ammonia", "顛茄 | Belladonna", "苯二氮平類藥物 | Benzodiazepines", "樟腦 | Camphor", "氰化物 | Cyanide", "繡球花 | Hydrangea", "胰島素 | Insulin", "止瀉寧 | Lomotil", "硝化甘油 | Nitroglycerin", "肉豆蔻 | Nutmeg", "潘生汀 | Persantine", "普祿林 | Prolixin", "滑蓋蘑菇 | Smooth cap mushroom", "泛得林 | Ventolin"]
              },
              {
                name: "發癢",
                toxins: ["驅蟲合歡 | Albizia anthelmintics", "白屈菜 | Celandine", "百憂解 | Prozac", "除蟲菊精 | Pyrethrin"]
              },
              {
                name: "黃疸",
                toxins: ["銻 | Antimony", "砷 | Arsenic", "阿托方 | Atophan", "四氯化碳 | Carbon tetrachloride", "可邁丁 | Coumadin", "致命網帽 | Deadly webcap", "鬼筆鵝膏 (死帽草) | Death Cap", "敵草快 | Diquat", "伊拉維 | Elavil", "環柄菇屬 | Lepiota", "單胺氧化酶抑制劑 | MAO inhibitor", "萘 | Naphthalene", "巴拉刈 | Paraquat", "三硝基甲苯 | Trinitrotoluene", "泰諾 | Tylenol", "白蛇根 | White snakeroot"]
              },
              {
                name: "蒼白",
                toxins: ["樟腦 | Camphor", "腎上腺素 | Epinephrine", "普祿林 | Prolixin", "三硝基甲苯 | Trinitrotoluene", "紅豆杉 | Yew"]
              },
              {
                name: "脫皮",
                toxins: ["酸 | Acid", "丙烯醯胺 | Acrylamide"]
              },
              {
                name: "皮疹",
                toxins: ["丙烯醯胺 | Acrylamide", "非洲牛奶樹 (帝錦) | African milk plant", "愛道美 | Aldomet", "銻 | Antimony", "苯 | Benzene", "苯二氮平類藥物 | Benzodiazepines", "硼酸 | Boric acid", "棕色遁蛛 | Brown recluse", "斑蝥素 | Cantharidin", "降保適 | Catapres", "白屈菜 | Celandine", "可邁丁 | Coumadin", "甲醛 | Formaldehyde", "碘 | Iodine", "曼陀羅花 (吉姆森草、茄科毒草) | Jimsonweed", "鈴蘭 (山谷百合) | Lily of the valley", "利彼攣 | Librax", "草酸 | Oxalic acid"]
              }
            ]
          }
        ];

        // --- 醫療資訊資料庫 (包含機制與LD50) ---
        const medicalInfoDB = {
          "一氧化碳 | Carbon Monoxide": {
            treatment: "移至空氣流通處，給予100%氧氣，嚴重者需高壓氧治療。",
            antidote: "100% 高濃度氧氣 (Oxygen)",
            source: "含碳物質不完全燃燒的副產物 (Incomplete combustion of carbon-containing materials)。",
            chemistry: "無色、無味、無臭的雙原子氣體 (CO)。",
            mechanism: "與血紅素結合力比氧氣強約200-250倍，形成碳氧血紅素 (COHb)，阻礙氧氣輸送並抑制細胞呼吸 (Complex IV)。",
            ld50: "~1000-1200 ppm (30分鐘致死)"
          },
          "海洛因 | Heroin": {
            treatment: "維持呼吸道暢通，輔助呼吸，監測生命徵象。",
            antidote: "納洛酮 (Naloxone)",
            source: "半合成鴉片類藥物，由嗎啡乙醯化而成。",
            chemistry: "3,6-二乙醯嗎啡 (Diacetylmorphine)，脂溶性高，能迅速穿過血腦屏障。",
            mechanism: "主要作用於中樞神經系統的 µ-鴉片受體 (Mu-opioid receptor)，抑制呼吸中樞。",
            ld50: "~20-50 mg (靜脈注射, 人類估算值)"
          },
          "鴉片 | Opium": {
            treatment: "維持呼吸道暢通，輔助呼吸。",
            antidote: "納洛酮 (Naloxone)",
            source: "天然來源，取自罌粟 (Papaver somniferum) 未成熟蒴果的乳汁。",
            chemistry: "含有嗎啡 (Morphine)、可待因 (Codeine) 等多種生物鹼的混合物。",
            mechanism: "透過嗎啡等成分作用於鴉片受體，產生鎮痛、鎮靜及呼吸抑制作用。",
            ld50: "變異大 (取決於嗎啡含量)，嗎啡 LD50 約 ~200 mg (口服, 人類)"
          },
          "可待因 | Codeine": {
            treatment: "維持呼吸道暢通，監測生命徵象。",
            antidote: "納洛酮 (Naloxone)",
            source: "天然存在於罌粟中，或由嗎啡經甲基化合成。",
            chemistry: "3-甲基嗎啡 (3-methylmorphine)。",
            mechanism: "在肝臟經 CYP2D6 代謝為嗎啡後，作用於 µ-鴉片受體。",
            ld50: "~500-1000 mg (口服, 人類估算值)"
          },
          "苯二氮平類藥物 | Benzodiazepines": {
            treatment: "洗胃（視情況），支持性療法。",
            antidote: "氟馬西尼 (Flumazenil) (需謹慎使用)",
            source: "人工合成藥物 (如 Valium, Xanax)。",
            chemistry: "含有苯環與二氮平環 (Diazepine ring) 融合結構。",
            mechanism: "增強 GABA_A 受體對神經抑制遞質 GABA 的親和力，增加氯離子內流，導致神經元超極化。",
            ld50: "極高 (單獨使用很少致死)，Diazepam Oral Rat LD50 ~700 mg/kg"
          },
          "有機磷 | Organophosphate": {
            treatment: "移除污染衣物，徹底清洗皮膚，維持呼吸。",
            antidote: "阿托品 (Atropine) 與 普拉肟 (Pralidoxime / 2-PAM)",
            source: "人工合成化合物 (殺蟲劑、神經毒劑)。",
            chemistry: "含有磷酸酯鍵，化學性質活潑。",
            mechanism: "不可逆地磷酸化並抑制乙醯膽鹼酯酶 (AChE)，導致乙醯膽鹼 (ACh) 在突觸積累，引起膽鹼激躁症候群。",
            ld50: "變異極大 (對硫磷 ~3-10 mg/kg, 毒死蜱 ~135 mg/kg 口服老鼠)"
          },
          "有機磷 | Organophosphates": {
            treatment: "移除污染衣物，徹底清洗皮膚，維持呼吸。",
            antidote: "阿托品 (Atropine) 與 普拉肟 (Pralidoxime / 2-PAM)",
            source: "人工合成化合物 (殺蟲劑、神經毒劑)。",
            chemistry: "含有磷酸酯鍵，化學性質活潑。",
            mechanism: "不可逆地磷酸化並抑制乙醯膽鹼酯酶 (AChE)，導致乙醯膽鹼 (ACh) 在突觸積累，引起膽鹼激躁症候群。",
            ld50: "變異極大 (對硫磷 ~3-10 mg/kg, 毒死蜱 ~135 mg/kg 口服老鼠)"
          },
          "泰諾 | Tylenol": {
            treatment: "早期洗胃，活性碳。",
            antidote: "乙醯半胱氨酸 (N-acetylcysteine, NAC)",
            source: "人工合成藥物 (Acetaminophen / Paracetamol)。",
            chemistry: "乙醯苯胺類衍生物。",
            mechanism: "代謝產物 NAPQI 耗盡肝臟穀胱甘肽 (Glutathione)，導致肝細胞壞死。",
            ld50: ">150 mg/kg (可能導致肝毒性)，致死量約 ~10-15g (成人)"
          },
          "阿斯匹靈 | Aspirin": {
            treatment: "活性碳，鹼化尿液，矯正電解質失衡。",
            antidote: "無特定解毒劑",
            source: "人工合成 (乙醯水楊酸)。",
            chemistry: "水楊酸的乙醯化衍生物，弱酸性。",
            mechanism: "解偶聯氧化磷酸化 (Uncouples oxidative phosphorylation) 導致高熱；刺激呼吸中樞導致呼鹼；干擾克氏循環導致代酸。",
            ld50: "~200-500 mg/kg (口服, 人類)"
          },
          "氰化物 | Cyanide": {
            treatment: "給予100%氧氣，立即急救。",
            antidote: "亞硝酸異戊酯, 亞硝酸鈉, 硫代硫酸鈉 或 羥鈷胺",
            source: "工業合成或氰苷分解 (如苦杏仁)。",
            chemistry: "含有氰基 (-C≡N)。",
            mechanism: "與粒線體細胞色素氧化酶 (Complex IV) 中的 Fe3+ 結合，阻斷電子傳遞鏈，導致細胞窒息。",
            ld50: "~1.5-2.5 mg/kg (口服/吸入, 人類)"
          },
          "阿托品 | Atropine": {
            treatment: "支持性療法，控制體溫。",
            antidote: "毒扁豆鹼 (Physostigmine) (僅在嚴重譫妄時使用)",
            source: "天然生物鹼 (顛茄)。",
            chemistry: "托烷類生物鹼 (Tropane alkaloid)。",
            mechanism: "競爭性拮抗毒蕈鹼型乙醯膽鹼受體 (Muscarinic AChR)，阻斷副交感神經作用。",
            ld50: "~400-500 mg (口服, 幼兒與老人更敏感)"
          },
          "甲醇 | Methanol": {
            treatment: "矯正酸中毒，洗腎。",
            antidote: "乙醇 (Ethanol) 或 甲吡唑 (Fomepizole)",
            source: "工業合成或木材乾餾。",
            chemistry: "最簡單的醇類 (CH3OH)。",
            mechanism: "經乙醇脫氫酶代謝為甲醛，再轉化為甲酸 (Formic acid)。甲酸抑制細胞色素氧化酶，導致視神經損傷與代謝性酸中毒。",
            ld50: "~30-100 mL (純甲醇, 人類)"
          },
          "巴拉刈 | Paraquat": {
            treatment: "極早期洗胃，活性碳。禁氧。",
            antidote: "無特效解毒劑",
            source: "人工合成除草劑。",
            chemistry: "聯吡啶類化合物，強氧化劑。",
            mechanism: "在體內進行氧化還原循環 (Redox cycling)，產生大量超氧自由基 (ROS)，破壞細胞膜並導致肺纖維化。",
            ld50: "~3-5 g (相當於 10-15 mL 20% 溶液, 人類)"
          },
          "番木鱉鹼 | Strychnine": {
            treatment: "控制驚厥，避免感官刺激。",
            antidote: "無特效解毒劑",
            source: "天然生物鹼 (馬錢子)。",
            chemistry: "吲哚類生物鹼。",
            mechanism: "競爭性拮抗脊髓與腦幹中的甘氨酸受體 (Glycine receptor)，解除抑制性神經控制，導致強直性驚厥。",
            ld50: "~1-2 mg/kg (口服, 人類)"
          },
          "VX 神經毒劑": {
            treatment: "立即去污，給予阿托品與解毒劑。",
            antidote: "阿托品 (Atropine) 與 普拉肟 (Pralidoxime)",
            source: "化學戰劑。",
            chemistry: "有機硫磷酸酯。",
            mechanism: "極強效的乙醯膽鹼酯酶 (AChE) 抑制劑，導致持續的神經肌肉過度刺激。",
            ld50: "~10 mg (經皮吸收, 人類), ~0.009 mg/kg (吸入)"
          },
          "索曼 | Soman": {
            treatment: "立即去污，給予阿托品與解毒劑。",
            antidote: "阿托品 (Atropine) 與 普拉肟 (Pralidoxime)",
            source: "化學戰劑 (G-series)。",
            chemistry: "甲基氟膦酸頻那酯。",
            mechanism: "抑制 AChE 並迅速發生「老化」(Aging)，使酶無法被重活化劑 (如 2-PAM) 恢復。",
            ld50: "~350 mg (經皮, 人類估算)"
          },
          "河豚 | Pufferfish": {
            treatment: "支持性療法（呼吸支持）。",
            antidote: "無特效解毒劑",
            source: "天然生物毒素。",
            chemistry: "河豚毒素 (Tetrodotoxin, TTX)。",
            mechanism: "特異性阻斷電壓門控鈉離子通道 (Voltage-gated Na+ channels)，阻止神經衝動傳導，導致肌肉麻痺與呼吸衰竭。",
            ld50: "~334 μg/kg (小鼠), 人類極微量即致死"
          }
        };

        const DEFAULT_MEDICAL_INFO = {
          treatment: "立即撥打急救電話，監測生命徵象 (ABC: Airway, Breathing, Circulation)。切勿催吐，除非有專業醫療指示。",
          antidote: "無特定解毒劑或需專業醫療評估。",
          source: "資料庫中暫無此毒物的詳細來源資料。",
          chemistry: "需查閱專業化學文獻。",
          mechanism: "詳細毒理機制需進一步查證。",
          ld50: "資料不足或差異過大。"
        };

        // --- React 元件 ---
        const App = () => {
          const [selectedSymptoms, setSelectedSymptoms] = useState([]);
          const [searchQuery, setSearchQuery] = useState("");
          const [matchedToxins, setMatchedToxins] = useState(null);
          const [showResults, setShowResults] = useState(false);
          const [selectedToxinDetail, setSelectedToxinDetail] = useState(null);
          const [expandedCategory, setExpandedCategory] = useState(null);

          const toggleSymptom = (symptomName) => {
            setSelectedSymptoms(prev => {
              if (prev.includes(symptomName)) {
                return prev.filter(s => s !== symptomName);
              } else {
                return [...prev, symptomName];
              }
            });
          };

          const handleSubmit = () => {
            if (selectedSymptoms.length === 0) {
              setMatchedToxins([]);
              setShowResults(true);
              return;
            }

            const toxinLists = selectedSymptoms.map(sName => {
              for (const cat of database) {
                const found = cat.symptoms.find(s => s.name === sName);
                if (found) return found.toxins;
              }
              return [];
            });

            const intersection = toxinLists.reduce((acc, currList) => {
              return acc.filter(toxin => currList.includes(toxin));
            });

            setMatchedToxins(intersection);
            setShowResults(true);
            setSelectedToxinDetail(null);
          };

          const handleReset = () => {
            setSelectedSymptoms([]);
            setMatchedToxins(null);
            setShowResults(false);
            setSelectedToxinDetail(null);
            setSearchQuery("");
          };

          const getToxinDetails = (toxinName) => {
            const relatedSymptoms = [];
            database.forEach(cat => {
              cat.symptoms.forEach(sym => {
                if (sym.toxins.includes(toxinName)) {
                  relatedSymptoms.push({ 
                    category: cat.category, 
                    symptom: sym.name 
                  });
                }
              });
            });

            const medicalInfo = medicalInfoDB[toxinName] || DEFAULT_MEDICAL_INFO;

            return {
              name: toxinName,
              symptoms: relatedSymptoms,
              ...medicalInfo
            };
          };

          const handleToxinClick = (toxinName) => {
            const details = getToxinDetails(toxinName);
            setSelectedToxinDetail(details);
          };

          const filteredDatabase = useMemo(() => {
            if (!searchQuery) return database;
            
            return database.map(cat => ({
              ...cat,
              symptoms: cat.symptoms.filter(s => 
                s.name.toLowerCase().includes(searchQuery.toLowerCase())
              )
            })).filter(cat => cat.symptoms.length > 0);
          }, [searchQuery]);

          const toggleCategory = (catName) => {
            setExpandedCategory(expandedCategory === catName ? null : catName);
          };

          // --- UI: 毒物詳情頁面 (Dark Mode) ---
          if (selectedToxinDetail) {
            return (
              <div className="min-h-screen bg-slate-900 text-slate-200 flex flex-col font-sans">
                <header className="bg-slate-800 border-b border-slate-700 p-4 sticky top-0 z-10 shadow-md flex items-center gap-3">
                   <button 
                     onClick={() => setSelectedToxinDetail(null)}
                     className="p-2 -ml-2 rounded-full hover:bg-slate-700 transition-colors"
                   >
                     <ArrowLeft className="w-6 h-6 text-slate-400" />
                   </button>
                   <h1 className="text-lg font-bold text-slate-100 truncate">毒物詳情</h1>
                </header>

                <main className="flex-1 p-4 max-w-2xl mx-auto w-full overflow-y-auto pb-20">
                  <div className="bg-slate-800 rounded-xl shadow-lg p-6 mb-4 border border-blue-900 border-l-4 border-l-blue-500">
                    <h2 className="text-2xl font-bold text-white mb-1">{selectedToxinDetail.name}</h2>
                    <span className="text-sm text-blue-300">已識別毒物資料</span>
                  </div>

                  <div className="bg-slate-800 rounded-xl shadow-lg p-5 mb-4 border border-slate-700">
                     <div className="flex items-center gap-2 mb-3 text-emerald-400">
                      <Leaf className="w-5 h-5" />
                      <h3 className="font-bold text-lg">來源與提取 (Source)</h3>
                    </div>
                    <p className="text-slate-300 font-medium mb-4 pl-1">{selectedToxinDetail.source}</p>

                    <div className="flex items-center gap-2 mb-2 text-purple-400 pt-2 border-t border-slate-700">
                      <FlaskConical className="w-5 h-5" />
                      <h3 className="font-bold text-lg">化學分類 (Chemistry)</h3>
                    </div>
                    <p className="text-slate-300 font-medium pl-1">{selectedToxinDetail.chemistry}</p>
                  </div>

                  {/* 機制與 LD50 卡片 */}
                  <div className="bg-slate-800 rounded-xl shadow-lg p-5 mb-4 border border-yellow-900/30">
                    <div className="flex items-center gap-2 mb-3 text-yellow-400">
                      <Zap className="w-5 h-5" />
                      <h3 className="font-bold text-lg">中毒機制 (Mechanism)</h3>
                    </div>
                    <p className="text-slate-200 font-medium mb-4 pl-1 leading-relaxed">{selectedToxinDetail.mechanism}</p>
                    
                    <div className="flex items-center gap-2 mb-2 text-gray-400 pt-2 border-t border-slate-700">
                      <Skull className="w-5 h-5" />
                      <h3 className="font-bold text-lg">致死劑量 (LD50)</h3>
                    </div>
                    <p className="text-slate-300 pl-1 font-mono text-sm">{selectedToxinDetail.ld50}</p>
                    <p className="text-xs text-slate-500 mt-1 pl-1">*註：LD50 數值通常基於動物實驗，人類數據僅供估算參考。</p>
                  </div>

                  <div className="bg-slate-800 rounded-xl shadow-lg p-5 mb-4 border border-red-900/30">
                    <div className="flex items-center gap-2 mb-3 text-red-400">
                      <Pill className="w-5 h-5" />
                      <h3 className="font-bold text-lg">解毒劑 (Antidote)</h3>
                    </div>
                    <p className="text-slate-200 font-medium mb-4 pl-1">{selectedToxinDetail.antidote}</p>
                    
                    <div className="flex items-center gap-2 mb-2 text-red-400 pt-2 border-t border-slate-700">
                      <Stethoscope className="w-5 h-5" />
                      <h3 className="font-bold text-lg">治療處置 (Treatment)</h3>
                    </div>
                    <p className="text-slate-300 pl-1 leading-relaxed">{selectedToxinDetail.treatment}</p>
                    
                    <div className="mt-4 flex items-start gap-2 text-xs text-red-300 bg-red-900/20 p-3 rounded border border-red-900/30">
                      <AlertCircle className="w-4 h-4 mt-0.5 shrink-0" />
                      <p>免責聲明：此資訊僅供教學與參考，不包含危險物質的具體製造步驟。緊急情況請立即就醫。</p>
                    </div>
                  </div>

                  <div className="bg-slate-800 rounded-xl shadow-lg border border-slate-700 overflow-hidden">
                    <div className="p-4 bg-slate-800 border-b border-slate-700">
                      <h3 className="font-bold text-slate-300 flex items-center gap-2">
                        <Activity className="w-4 h-4" />
                        已知關聯症狀 ({selectedToxinDetail.symptoms.length})
                      </h3>
                    </div>
                    <div className="divide-y divide-slate-700">
                      {selectedToxinDetail.symptoms.map((item, idx) => (
                        <div key={idx} className="p-4 hover:bg-slate-700/50 flex flex-col transition-colors">
                          <span className="text-slate-200 font-medium">{item.symptom}</span>
                          <span className="text-xs text-slate-400 mt-1 bg-slate-900 w-fit px-2 py-0.5 rounded-full border border-slate-700">
                            {item.category}
                          </span>
                        </div>
                      ))}
                    </div>
                  </div>
                </main>
              </div>
            );
          }

          // --- UI: 結果列表頁面 (Dark Mode) ---
          if (showResults) {
            return (
              <div className="min-h-screen bg-slate-900 text-slate-200 flex flex-col font-sans">
                <header className="bg-slate-800 border-b border-slate-700 p-4 sticky top-0 z-10 shadow-md flex items-center justify-between">
                   <h1 className="text-lg font-bold text-slate-100">分析結果</h1>
                   <button 
                     onClick={() => setShowResults(false)}
                     className="text-blue-400 hover:text-blue-300 font-medium text-sm flex items-center transition-colors"
                   >
                     返回修改
                   </button>
                </header>

                <main className="flex-1 p-4 max-w-2xl mx-auto w-full overflow-y-auto">
                  <div className="bg-slate-800 rounded-xl shadow-lg p-5 mb-4 border border-slate-700">
                    <h2 className="text-sm font-semibold text-slate-400 mb-3 uppercase tracking-wider">已選症狀</h2>
                    <div className="flex flex-wrap gap-2">
                      {selectedSymptoms.map(s => (
                        <span key={s} className="bg-blue-900/30 text-blue-300 px-3 py-1 rounded-full text-sm border border-blue-800">
                          {s}
                        </span>
                      ))}
                    </div>
                  </div>

                  <div className="bg-slate-800 rounded-xl shadow-lg border border-slate-700 overflow-hidden">
                    <div className={`p-4 border-b ${matchedToxins && matchedToxins.length > 0 ? 'bg-emerald-900/20 border-emerald-900/50' : 'bg-red-900/20 border-red-900/50'}`}>
                      <h2 className="font-bold flex items-center gap-2">
                        {matchedToxins && matchedToxins.length > 0 ? (
                          <>
                            <Check className="w-5 h-5 text-emerald-400" />
                            <span className="text-emerald-400">符合條件的毒物 ({matchedToxins.length})</span>
                          </>
                        ) : (
                          <>
                            <AlertTriangle className="w-5 h-5 text-red-400" />
                            <span className="text-red-400">無完全匹配結果</span>
                          </>
                        )}
                      </h2>
                    </div>
                    
                    <div className="divide-y divide-slate-700">
                      {matchedToxins && matchedToxins.length > 0 ? (
                        matchedToxins.map((toxin, idx) => (
                          <button 
                            key={idx} 
                            onClick={() => handleToxinClick(toxin)}
                            className="w-full text-left p-4 hover:bg-slate-700 flex items-center justify-between group transition-colors"
                          >
                            <span className="text-slate-200 font-medium group-hover:text-blue-300">{toxin}</span>
                            <ArrowRight className="w-4 h-4 text-slate-500 group-hover:text-blue-400" />
                          </button>
                        ))
                      ) : (
                        <div className="p-8 text-center text-slate-500">
                          <p>沒有任何單一毒物同時符合您選擇的所有症狀。</p>
                          <p className="text-sm mt-2 text-slate-600">建議嘗試減少勾選的症狀數量，以擴大搜尋範圍。</p>
                        </div>
                      )}
                    </div>
                  </div>
                  
                  {matchedToxins && matchedToxins.length > 0 && (
                    <div className="mt-4 text-center text-sm text-slate-500">
                      點擊毒物名稱可查看詳細資料、來源與化學性質
                    </div>
                  )}
                </main>
                
                <div className="p-4 bg-slate-800 border-t border-slate-700">
                  <button 
                    onClick={handleReset}
                    className="w-full flex items-center justify-center gap-2 bg-slate-700 hover:bg-slate-600 text-slate-200 py-3 rounded-xl font-semibold active:scale-[0.98] transition-all"
                  >
                    <RotateCcw className="w-4 h-4" />
                    重新開始
                  </button>
                </div>
              </div>
            );
          }

          // --- UI: 選擇頁面 (Dark Mode) ---
          return (
            <div className="min-h-screen bg-slate-900 text-slate-200 flex flex-col font-sans">
              <header className="bg-slate-800 border-b border-slate-700 p-4 sticky top-0 z-20 shadow-md">
                <div className="max-w-2xl mx-auto">
                  <div className="flex items-center justify-between mb-4">
                    <h1 className="text-xl font-bold text-slate-100 flex items-center gap-2">
                      <Disc className="w-6 h-6 text-red-500" />
                      毒物症狀查對
                    </h1>
                    <span className="text-xs font-mono bg-slate-700 px-2 py-1 rounded text-slate-400">v5.0 Edu</span>
                  </div>
                  
                  <div className="relative">
                    <input 
                      type="text" 
                      placeholder="搜尋症狀 (例如: 發燒, 瞳孔...)" 
                      className="w-full pl-10 pr-4 py-3 bg-slate-900 border border-slate-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 rounded-xl transition-all outline-none text-white placeholder-slate-500"
                      value={searchQuery}
                      onChange={(e) => setSearchQuery(e.target.value)}
                    />
                    <Search className="absolute left-3 top-3.5 text-slate-500 w-5 h-5" />
                  </div>
                </div>
              </header>

              <main className="flex-1 p-4 overflow-y-auto max-w-2xl mx-auto w-full pb-24">
                {filteredDatabase.length === 0 ? (
                   <div className="text-center py-10 text-slate-500">
                     <p>找不到符合 "{searchQuery}" 的症狀</p>
                   </div>
                ) : (
                  <div className="space-y-4">
                    {filteredDatabase.map((category, catIdx) => (
                      <div key={catIdx} className="bg-slate-800 rounded-xl shadow-lg border border-slate-700 overflow-hidden">
                        <button 
                          onClick={() => toggleCategory(category.category)}
                          className="w-full flex items-center justify-between p-4 bg-slate-800 hover:bg-slate-700/50 transition-colors"
                        >
                          <div className="flex items-center gap-3">
                            <div className="p-2 bg-slate-700 rounded-lg border border-slate-600 text-slate-300">
                              {category.icon}
                            </div>
                            <span className="font-bold text-slate-200">{category.category}</span>
                            <span className="bg-slate-700 text-slate-300 text-xs px-2 py-0.5 rounded-full">
                              {category.symptoms.length}
                            </span>
                          </div>
                          {searchQuery || expandedCategory === category.category ? <ChevronUp className="text-slate-500 w-5 h-5" /> : <ChevronDown className="text-slate-500 w-5 h-5" />}
                        </button>

                        {(searchQuery || expandedCategory === category.category) && (
                          <div className="divide-y divide-slate-700">
                            {category.symptoms.map((symptom, symIdx) => {
                              const isSelected = selectedSymptoms.includes(symptom.name);
                              return (
                                <div 
                                  key={symIdx} 
                                  onClick={() => toggleSymptom(symptom.name)}
                                  className={`p-4 flex items-start gap-3 cursor-pointer transition-colors active:bg-blue-900/20 ${isSelected ? 'bg-blue-900/30' : 'hover:bg-slate-700/30'}`}
                                >
                                  <div className={`mt-0.5 w-5 h-5 rounded border flex items-center justify-center shrink-0 transition-all ${isSelected ? 'bg-blue-600 border-blue-600' : 'border-slate-500 bg-slate-800'}`}>
                                    {isSelected && <Check className="w-3.5 h-3.5 text-white" />}
                                  </div>
                                  <span className={`${isSelected ? 'text-blue-400 font-medium' : 'text-slate-300'}`}>
                                    {symptom.name}
                                  </span>
                                </div>
                              );
                            })}
                          </div>
                        )}
                      </div>
                    ))}
                  </div>
                )}
              </main>

              <div className="fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700 p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.3)] z-30">
                <div className="max-w-2xl mx-auto flex items-center justify-between gap-4">
                  <div className="text-sm text-slate-400">
                    <span>已選擇 </span>
                    <span className="font-bold text-blue-400 text-lg">{selectedSymptoms.length}</span>
                    <span> 項症狀</span>
                  </div>
                  
                  <button 
                    onClick={handleSubmit}
                    disabled={selectedSymptoms.length === 0}
                    className={`flex items-center gap-2 px-6 py-3 rounded-xl font-bold shadow-lg transition-all active:scale-95 ${
                      selectedSymptoms.length > 0 
                        ? 'bg-blue-600 text-white shadow-blue-900/50 hover:bg-blue-500' 
                        : 'bg-slate-700 text-slate-500 cursor-not-allowed'
                    }`}
                  >
                    提交分析
                    <ArrowRight className="w-4 h-4" />
                  </button>
                </div>
              </div>
            </div>
          );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
